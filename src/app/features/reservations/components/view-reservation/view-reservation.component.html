<main>
    <div class="content-container">
        <div class="top-content">
            <input [(ngModel)]="searchText" class="search-input" type="text" placeholder="Buscar">
            <button *ngIf="this.userRole == this.UserRoleEnum.CondominalManager" class="create-reservation-button" routerLink="/reservations/form">
                Criar Reserva
            </button>
        </div>
        <div class="body-container">
            <div class="list-container">
                <h2 class="list-title">Pr√≥ximas Reservas:</h2>
                <ul class="reservations-list">
                    @for (item of filterNextReservations(); track $index) {
                        <li class="reservation-item">
                            <div class="info">
                                <h3>{{item.areaName}}</h3>
                                <p>Data: {{extractDate(item.endDate)}}</p>
                                <p>Intervalo de uso: {{ extractTime(item.startDate) + ' - ' + extractTime(item.endDate)}}</p>
                                <p *ngIf="this.userRole == UserRoleEnum.CondominalManager">Reservado por: {{item.createdByUserName}}</p>                                
                            </div>
                            <div class="buttons">
                                <button [routerLink]="'/reservations/form/' + item.id">Ver detalhes</button>
                                <button (click)="deleteAreaReservation(item.id!)">Deletar</button>
                            </div>
                        </li>
                    }
                </ul>
            </div>
            <div class="list-container">
                <h2 class="list-title">Reservas Anteriores:</h2>
                <ul class="reservations-list">
                    @for (item of filterPreviousReservations(); track $index) {
                        <li class="reservation-item">
                            <div class="info">
                                <h3>{{item.areaName}}</h3>
                                <p>Data: {{extractDate(item.endDate)}}</p>
                                <p>Intervalo de uso: {{ extractTime(item.startDate) + ' - ' + extractTime(item.endDate)}}</p>
                                <p *ngIf="this.userRole == UserRoleEnum.CondominalManager">Reservado por: {{item.createdByUserName}}</p>
                            </div>
                            <div class="buttons">
                                <button [routerLink]="'/reservations/form/' + item.id">Editar</button>
                                <button (click)="deleteAreaReservation(item.id!)">Deletar</button>
                            </div>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </div>
</main>