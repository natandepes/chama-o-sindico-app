<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

<div class="container">
  <header class="header">
    <div class="icons">
      <button class="menu-icon">☰</button>
    </div>
    <h1 class="title">Serviço</h1>
    <button class="icon-button" (click)="toEdit()">
      <span class="material-icons">edit</span>
    </button>
  </header>

  <div class="conteudo" *ngIf="service; else carregando">
    <div class="service-image">
      <img [src]="service.providerPhotoUrl" alt="Imagem do serviço" class="preview-image" />
    </div>

    <h2 class="service-name">{{ service.title }}</h2>

    <label>Nome: </label>
    <p>{{ service.providerName }}</p>

    <label>Contato:</label>
    <p>{{ service.cellphone }}</p>

    <label>Descrição:</label>
    <p>{{ service.description }}</p>
    <label>Comentários:</label>
    <div *ngFor="let item of comments;">
      <p>{{ item.comment }}</p>
      <p>Por: {{ item.commentByUserName }}</p>
      <p>Em: {{ item.createdAt | date: 'dd/MM/yyyy' }}</p>
    </div>
    <button (click)="addComment()">Adicionar Comentário</button>
    <div class="coment-area" *ngIf="isCommenting">
      <textarea [(ngModel)]="newComment" placeholder="Digite seu comentário aqui..."></textarea>
      <button (click)="submitComment()">Enviar</button>
      <button (click)="cancelComment()">Cancelar</button>
    </div>
  </div>
  <ng-template #carregando>
    <p>Carregando serviço...</p>
  </ng-template>
</div>
